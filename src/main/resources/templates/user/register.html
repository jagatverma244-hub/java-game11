<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8">
  <title>Register - RoomStack Game Mode</title>
  <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@500&display=swap" rel="stylesheet">
  <style>
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    body {
      font-family: 'Orbitron', sans-serif;
      background: radial-gradient(circle, #0f2027, #203a43, #2c5364);
      display: flex;
      justify-content: center;
      align-items: center;
      min-height: 100vh;
      color: #fff;
    }

    .form-container {
      background: rgba(255, 255, 255, 0.05);
      backdrop-filter: blur(10px);
      padding: 40px;
      border-radius: 20px;
      border: 2px solid #0ff;
      box-shadow: 0 0 25px #0ff;
      width: 100%;
      max-width: 440px;
      animation: float 6s ease-in-out infinite;
    }

    @keyframes float {
      0% { transform: translateY(0px); }
      50% { transform: translateY(-10px); }
      100% { transform: translateY(0px); }
    }

    .form-container h2 {
      text-align: center;
      margin-bottom: 30px;
      color: #00e6e6;
      text-shadow: 0 0 8px #0ff;
    }

    form input {
      width: 100%;
      padding: 14px 16px;
      margin: 12px 0;
      border: none;
      border-radius: 8px;
      font-size: 15px;
      background: #111;
      color: #0ff;
      box-shadow: inset 0 0 5px #0ff;
    }

    form input::placeholder {
      color: #888;
    }

    form input:focus {
      outline: none;
      box-shadow: 0 0 10px #0ff;
    }

    form button {
      width: 100%;
      padding: 14px;
      margin-top: 20px;
      background: #0ff;
      color: #000;
      font-weight: bold;
      border: none;
      border-radius: 8px;
      font-size: 16px;
      cursor: pointer;
      transition: 0.3s ease;
    }

    form button:hover {
      background: #00cccc;
      box-shadow: 0 0 12px #0ff;
    }

    .msg {
      margin-top: 14px;
      text-align: center;
      font-size: 14px;
    }

    .error {
      color: #ff4d4d;
    }

    .success {
      color: #00ff99;
    }

    .form-container p {
      text-align: center;
      margin-top: 20px;
    }

    .form-container a {
      color: #0ff;
      text-decoration: none;
    }

    .form-container a:hover {
      text-shadow: 0 0 5px #0ff;
    }

    @media (max-width: 480px) {
      .form-container {
        padding: 25px;
        border-radius: 16px;
      }
    }
  </style>
</head>

<body>
<div class="form-container">
  <h2>Create Your Gamer ID</h2>
  <form th:action="@{/user/register}" method="post" th:object="${registerRequest}">
    <input type="text" th:field="*{name}" placeholder="Gamer Tag (Full Name)" required />
    <!-- Email field with pattern -->
    <input type="email" th:field="*{email}"
           placeholder="Email Address"
           required
           pattern="[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[A-Za-z]{2,}"
           title="Please enter a valid email like name@example.com" />
    <input type="text" th:field="*{mobile}"
           placeholder="Mobile Number"
           required
           pattern="[6-9][0-9]{9}"
           oninvalid="this.setCustomValidity('Please enter a valid number')"
           oninput="this.setCustomValidity('')" />



    <input type="password" th:field="*{password}" placeholder="enter password" required />
    <input type="text" th:field="*{referredBy}" placeholder="Referral Code (Optional)" />
    <button type="submit">Join the Arena</button>
  </form>
  <div class="msg error" th:if="${error}" th:text="${error}"></div>
  <div class="msg success" th:if="${message}" th:text="${message}"></div>
  <p>Already signed up? <a th:href="@{/user/login}">Enter Game</a></p>
</div>
<script>
  document.addEventListener('DOMContentLoaded', function () {
    const referralInput = document.querySelector('input[name="referredBy"]');
    if (referralInput) {
      referralInput.addEventListener('input', () => {
        referralInput.value = referralInput.value.toUpperCase();
      });
    }
  });
</script>
</body>
</html>


